<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
</head>
<body>
<!-- Include the script that builds the page and powers Netlify CMS -->
<script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
<script>
  function b(a){return a?(a^Math.random()*16>>a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)}

  var UUIDControl = createClass({
    handleChange: function(value) {
      this.props.onChange(value ? value.trim() : b());
    },

    render: function() {
      var value = this.props.value ? this.props.value : b();
      this.handleChange(value);
      return h('div', {style: {float: 'right', marginRight: '4px'}}, value);
    },
  });

  var UUIDPreview = createClass({
    render: function() {
      return h('div', {}, this.props.value);
    }
  });

  var schema = {
    properties: {},
  }

  CMS.registerWidget('uuid', UUIDControl, UUIDPreview, schema);
</script>
</body>
</html>
